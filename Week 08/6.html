<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>状态机</title>
</head>

<body>
    <script>
        function match(str) {
            let state = start
            for (const s of str) {
                state = state(s)
            }
            return state === end
        }
        console.log(match('ababcdef'));

        function start(s){
            if(s === 'a'){
                return foundA
            }else{
                return start
            }
        }
        function foundA(s){
            if(s === 'b'){
                return foundB
            }else{
                return start(s)
            }
        }
        function foundB(s){
            if(s === 'c'){
                return foundC
            }else{
                return start(s)
            }
        }
        function foundC(s){
            if(s === 'd'){
                return foundD
            }else{
                return start(s)
            }
        }
        function foundD(s){
            if(s === 'e'){
                return foundE
            }else{
                return start(s)
            }
        }
        function foundE(s){
            if(s === 'f'){
                return end
            }else{
                return start(s)
            }
        }
        function end(){
            return end
        }
    </script>
</body>

</html>